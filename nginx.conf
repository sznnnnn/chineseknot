server {
    # ... 其他配置 ...

    # 设置正确的 Content-Type 和字符集
    charset utf-8;
    charset_types text/html text/xml text/plain text/css application/javascript;

    # 缓存控制
    location ~* \.(css|js|jpg|jpeg|png|gif|ico|woff2)$ {
        add_header Cache-Control "public, max-age=31536000";
    }

    # HTML 文件的缓存控制
    location ~* \.html$ {
        add_header Cache-Control "public, max-age=0, must-revalidate";
    }

    # 安全头部
    add_header Content-Security-Policy "default-src 'self'; style-src 'self' 'unsafe-inline'; script-src 'self'; frame-ancestors 'self'; img-src 'self' data:;";
} 